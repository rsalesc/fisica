### Pêndulo

O sistema pêndulo consistia num suporte elevado a $`r p.altura_pino`$ metros no qual era amarrado um barbante de tamanho variável e em cuja extremidade pendia uma bola de metal de $`r round(p.diametro_bola*100, digits=1)`$ centímetros de diâmetro. Cada medição consistia em abandonar a bolinha, com um ângulo de abertura de 5º, e avaliar quanto tempo demorava para que completasse 5 idas e voltas. O experimento como um todo consistia em variar o tamanho do barbante entre as medições, para analisar como sua extensão está correlacionada com o período do sistema pêndulo.

A tabela abaixo mostra os tempos medidos, para diferentes comprimentos de corda. A última coluna da tabela contém a média das três observações feitas, valor que será usado durante o resto da análise:

```{r, fig.height=4, echo=FALSE}

dados.pendulo[,2:4] = dados.pendulo[,2:4]/5
dados.pendulo[,"h0"] = p.altura_pino - p.diametro_bola - dados.pendulo[,"h0"]
dados.pendulo = cbind(dados.pendulo, rowMeans(dados.pendulo[,2:4]))
colnames(dados.pendulo) = TeX(
  c(
    paste("L", parens(ph.TeX.deslocamento)),
    paste(subscript("t", 1:(ncol(dados.pendulo)-2)), parens(ph.TeX.tempo)),
    paste(subscript("t", "m"), parens(ph.TeX.tempo))
  )
)
grid.arrange(top="Observações - Pêndulo", tableGrob(round(dados.pendulo, digits=2), theme=tt))
```

```{r, fig.width=5, fig.height=3.5, echo=FALSE}
x = dados.pendulo[,1]
y = dados.pendulo[,ncol(dados.pendulo)]

grid.arrange(
  top="Período x Comprimento",
  ggplot(mapping=aes(x=x))
    + geom_point(aes(y=y))
    + ylab(TeX(paste("Período", parens(ph.TeX.tempo))))
    + xlab(TeX(paste("Comprimento", parens(ph.TeX.deslocamento))))
    + xlim(c(0.0, 1.2))
    + ylim(c(0.0, 2.5))
  )
```

```{r, fig.width=5, fig.height=3.5, echo=FALSE}
x = dados.pendulo[,1]
y = dados.pendulo[,ncol(dados.pendulo)]^2
reg = lm(y ~ x)
reg_curve = polynomial(coef(reg))
curve_text = paste("Período^2:", polys(round(reg_curve, digits=3), "L"))

x_curve = data.frame(x=seq(0.0, 1.2, length.out=30))
y_curve = as.function(reg_curve)(x_curve)

grid.arrange(
  top="Período² x Comprimento",
  ggplot(mapping=aes(x=x))
    + geom_point(aes(y=y))
    + geom_line(aes(x=x_curve, y=y_curve))
    + geom_text(aes(x=0.1, y=6, label=curve_text, hjust=0.0, vjust=0), parse=TRUE)
    + ylab(TeX(paste("Período²", parens(math("s^2")))))
    + xlab(TeX(paste("Comprimento", parens(ph.TeX.deslocamento))))
    + xlim(c(0.0, 1.2))
    + ylim(c(0.0, 7))
  )
```

```{r, fig.width=5, fig.height=3.5, echo=FALSE}
# Lm = dados.pendulo[1,1]
# x = seq(0.0, 12.0, length.out=90)
# y = pend.posicao(Lm, p.angulo_pendulo, x)
# 
# grid.arrange(
#   top="Posição x Tempo",
#   ggplot(mapping=aes(x=x, y=y))
#     + geom_line()
#     + ylab(TeX(paste("Posição", parens(ph.TeX.deslocamento))))
#     + xlab(TeX(paste("Tempo", parens(ph.TeX.tempo))))
#     + xlim(c(0.0, 12))
#     + ylim(c(-0.13, 0.13))
#   )
```
